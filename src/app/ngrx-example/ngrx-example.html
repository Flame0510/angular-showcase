<div class="ngrx-container">
  <app-page-header
    title="NgRx - State Management"
    subtitle="Redux pattern per Angular: gestione centralizzata dello stato applicativo"
  />

  <!-- Navigation Tabs -->
  <div class="tabs">
    <button
      class="tab"
      [class.active]="selectedTab() === 'concepts'"
      (click)="selectedTab.set('concepts')"
    >
      ðŸ“š Concetti Base
    </button>
    <button
      class="tab"
      [class.active]="selectedTab() === 'counter'"
      (click)="selectedTab.set('counter')"
    >
      ðŸ”¢ Counter Demo
    </button>
    <button
      class="tab"
      [class.active]="selectedTab() === 'todos'"
      (click)="selectedTab.set('todos')"
    >
      âœ… Todo Demo
    </button>
  </div>

  <!-- Concepts Tab -->
  @if (selectedTab() === 'concepts') {
  <div class="content-section">
    <app-ngrx-concepts />
  </div>
  }

  <!-- Counter Demo Tab -->
  @if (selectedTab() === 'counter') {
  <div class="content-section">
    <app-ngrx-counter-demo
      [counterState]="counterState()"
      [actionsLog]="actionsLog()"
      (onIncrement)="increment()"
      (onDecrement)="decrement()"
      (onReset)="reset()"
      (onClearLogs)="clearLogs()"
    />
  </div>
  }

  <!-- Todos Demo Tab -->
  @if (selectedTab() === 'todos') {
  <div class="content-section">
    <app-ngrx-todo-demo
      [todoState]="todoState()"
      [actionsLog]="actionsLog()"
      [newTodoText]="newTodoText()"
      [filteredTodos]="filteredTodos"
      [activeTodosCount]="activeTodosCount"
      [completedTodosCount]="completedTodosCount"
      (onAddTodo)="addTodo()"
      (onToggleTodo)="toggleTodo($event)"
      (onDeleteTodo)="deleteTodo($event)"
      (onSetFilter)="setFilter($event)"
      (onClearCompleted)="clearCompleted()"
      (onClearLogs)="clearLogs()"
      (onNewTodoTextChange)="newTodoText.set($event)"
    />
  </div>
  }
</div>
